(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1010:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(1847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1360:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1761:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(1847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6191:(e,s,l)=>{"use strict";l.d(s,{A:()=>a});let a=(0,l(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6253:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>S});var a=l(5155),t=l(1169);let c=(0,l(1847).A)("school",[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);var i=l(6485),d=l(1761),r=l(7586),n=l(6191),x=l(6651),m=l(7828),h=l(1010),o=l(1360),j=l(1524),u=l(63),p=l(6199),N=l(2115),v=l(1647),f=l(3998),y=l(6948),b=l(5142),g=l(8334),w=l(1186);let A={totalUsers:1234,totalSchools:245,totalConsultations:567,totalRevenue:15e6,monthlyGrowth:12.5},k=[{id:"1",name:"田中太郎",email:"tanaka@example.com",role:"STUDENT",createdAt:"2024-01-15",lastLogin:"2024-09-20",status:"active"},{id:"2",name:"佐藤花子",email:"sato@example.com",role:"STUDENT",createdAt:"2024-02-10",lastLogin:"2024-09-19",status:"active"},{id:"3",name:"山田次郎",email:"yamada@example.com",role:"COUNSELOR",createdAt:"2024-01-20",lastLogin:"2024-09-21",status:"active"}],M=[{id:"1",user:"田中太郎",date:"2024-09-25",time:"14:00",type:"一般的な留学相談",status:"confirmed",counselor:"山田次郎"},{id:"2",user:"佐藤花子",date:"2024-09-26",time:"10:00",type:"学校選択のアドバイス",status:"pending",counselor:"未割当"},{id:"3",user:"鈴木一郎",date:"2024-09-24",time:"16:00",type:"ビザ申請サポート",status:"completed",counselor:"山田次郎"}];function S(){var e;let{data:s,status:l}=(0,p.wV)(),[S,E]=(0,N.useState)("overview"),[L,C]=(0,N.useState)(null),[z,Z]=(0,N.useState)([]),[$,T]=(0,N.useState)([]),[U,V]=(0,N.useState)(!0);if((0,N.useEffect)(()=>{var e;"authenticated"===l&&(null==s||null==(e=s.user)?void 0:e.role)!=="ADMIN"&&(0,u.redirect)("/dashboard");let a=async()=>{V(!0),await new Promise(e=>setTimeout(e,1e3)),C(A),Z(k),T(M),V(!1)};"authenticated"===l&&a()},[s,l]),"loading"===l)return(0,a.jsx)(g.AV,{title:"管理画面を読み込み中..."});"unauthenticated"===l&&(0,u.redirect)("/auth/signin"),(null==s||null==(e=s.user)?void 0:e.role)!=="ADMIN"&&(0,u.redirect)("/dashboard");let W=e=>(0,a.jsx)(v.E,{variant:{active:"default",inactive:"secondary",pending:"secondary",confirmed:"default",completed:"outline",cancelled:"destructive"}[e],children:{active:"アクティブ",inactive:"非アクティブ",pending:"保留中",confirmed:"確定",completed:"完了",cancelled:"キャンセル"}[e]||e});return(0,a.jsx)("main",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"管理画面"}),(0,a.jsx)("p",{className:"text-gray-600",children:"システムの管理と監視"})]}),(0,a.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"概要",icon:j.A},{id:"users",name:"ユーザー",icon:t.A},{id:"consultations",name:"相談",icon:i.A},{id:"schools",name:"学校",icon:c}].map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>E(e.id),className:"group inline-flex items-center py-4 px-1 border-b-2 font-medium text-sm ".concat(S===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(s,{className:"h-5 w-5 mr-2"}),e.name]},e.id)})})}),"overview"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:U?Array.from({length:4}).map((e,s)=>(0,a.jsx)(g.B0,{},s)):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Zp,{children:(0,a.jsx)(y.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(t.A,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"総ユーザー数"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:null==L?void 0:L.totalUsers.toLocaleString()})]})]})})}),(0,a.jsx)(y.Zp,{children:(0,a.jsx)(y.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"提携校数"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:null==L?void 0:L.totalSchools})]})]})})}),(0,a.jsx)(y.Zp,{children:(0,a.jsx)(y.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(i.A,{className:"h-8 w-8 text-purple-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"相談件数"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:null==L?void 0:L.totalConsultations})]})]})})}),(0,a.jsx)(y.Zp,{children:(0,a.jsx)(y.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.A,{className:"h-8 w-8 text-orange-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"月間売上"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:["\xa5",null==L?void 0:L.totalRevenue.toLocaleString()]})]})]})})})]})}),(0,a.jsxs)(y.Zp,{children:[(0,a.jsx)(y.aR,{children:(0,a.jsx)(y.ZB,{children:"最近のアクティビティ"})}),(0,a.jsx)(y.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-blue-100 rounded-full p-2",children:(0,a.jsx)(t.A,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"新規ユーザー登録: 田中太郎さん"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"5分前"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-green-100 rounded-full p-2",children:(0,a.jsx)(i.A,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"相談予約: 佐藤花子さん"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"15分前"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"bg-purple-100 rounded-full p-2",children:(0,a.jsx)(r.A,{className:"h-4 w-4 text-purple-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"問い合わせ受信"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"30分前"})]})]})]})})]})]}),"users"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"ユーザー管理"}),(0,a.jsxs)(f.$,{className:"gap-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),"新規追加"]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(b.p,{placeholder:"ユーザーを検索...",className:"pl-10"})]}),(0,a.jsxs)(w.l6,{defaultValue:"all",children:[(0,a.jsx)(w.bq,{className:"w-48",children:(0,a.jsx)(w.yv,{})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"all",children:"すべての役割"}),(0,a.jsx)(w.eb,{value:"STUDENT",children:"学生"}),(0,a.jsx)(w.eb,{value:"COUNSELOR",children:"カウンセラー"}),(0,a.jsx)(w.eb,{value:"ADMIN",children:"管理者"})]})]})]}),(0,a.jsx)(y.Zp,{children:(0,a.jsx)(y.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"ユーザー"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"役割"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"登録日"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"最終ログイン"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"ステータス"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"アクション"})]})}),(0,a.jsx)("tbody",{children:z.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,a.jsx)("td",{className:"p-4",children:e.role}),(0,a.jsx)("td",{className:"p-4",children:e.createdAt}),(0,a.jsx)("td",{className:"p-4",children:e.lastLogin}),(0,a.jsx)("td",{className:"p-4",children:W(e.status)}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(f.$,{variant:"outline",size:"sm",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})}),(0,a.jsx)(f.$,{variant:"outline",size:"sm",children:(0,a.jsx)(h.A,{className:"h-4 w-4"})}),(0,a.jsx)(f.$,{variant:"outline",size:"sm",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})})})]}),"consultations"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"相談管理"}),(0,a.jsxs)(f.$,{className:"gap-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),"手動予約"]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(b.p,{placeholder:"相談を検索...",className:"pl-10"})]}),(0,a.jsxs)(w.l6,{defaultValue:"all",children:[(0,a.jsx)(w.bq,{className:"w-48",children:(0,a.jsx)(w.yv,{})}),(0,a.jsxs)(w.gC,{children:[(0,a.jsx)(w.eb,{value:"all",children:"すべてのステータス"}),(0,a.jsx)(w.eb,{value:"pending",children:"保留中"}),(0,a.jsx)(w.eb,{value:"confirmed",children:"確定"}),(0,a.jsx)(w.eb,{value:"completed",children:"完了"}),(0,a.jsx)(w.eb,{value:"cancelled",children:"キャンセル"})]})]})]}),(0,a.jsx)(y.Zp,{children:(0,a.jsx)(y.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"ユーザー"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"日時"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"相談内容"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"担当者"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"ステータス"}),(0,a.jsx)("th",{className:"text-left p-4 font-medium",children:"アクション"})]})}),(0,a.jsx)("tbody",{children:$.map(e=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-4 font-medium",children:e.user}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.date}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.time})]})}),(0,a.jsx)("td",{className:"p-4",children:e.type}),(0,a.jsx)("td",{className:"p-4",children:e.counselor}),(0,a.jsx)("td",{className:"p-4",children:W(e.status)}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(f.$,{variant:"outline",size:"sm",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})}),(0,a.jsx)(f.$,{variant:"outline",size:"sm",children:(0,a.jsx)(h.A,{className:"h-4 w-4"})}),(0,a.jsx)(f.$,{variant:"outline",size:"sm",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})})})]}),"schools"===S&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"学校管理"}),(0,a.jsx)("p",{className:"text-gray-500",children:"この機能は準備中です"})]})]})})}},6261:(e,s,l)=>{Promise.resolve().then(l.bind(l,6253))}},e=>{e.O(0,[707,199,158,443,186,740,441,493,358],()=>e(e.s=6261)),_N_E=e.O()}]);